(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),o=(a(14),a(6)),u=a.n(o);var s=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__logo-container"},r.a.createElement("a",{href:"./"},r.a.createElement("img",{src:u.a,alt:"\u0421\u0443\u043f\u0435\u0440 \u043b\u043e\u0433\u043e \u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440\u0430",className:"header__logo"})),r.a.createElement("p",{className:"header__logo-sub"},"\u041c\u043e\u0439 \u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440 \u0412\u0430\u043b\u044e\u0442")))},i=a(1),m=a(2),f=a(3),h=a(7),_=a(8),p=new(function(){function e(t){Object(h.a)(this,e),this._url=t}return Object(_.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getCurrency",value:function(){var e=this;return fetch("".concat(this._url)).then((function(t){return e._handleResponse(t)}))}},{key:"setNewBase",value:function(e){var t=this;return fetch("".concat(this._url,"?base=").concat(e)).then((function(e){return t._handleResponse(e)}))}}]),e}())("https://api.exchangeratesapi.io/latest");var v=function(e){var t=e.className,a=e.selectValue,n=e.inputValue,c=e.allCurrency,l=e.nameInput,o=e.nameSelect,u=e.onValueChange,s=e.onSelectChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form__input-container"},r.a.createElement("input",{type:"number",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",className:"form__input ".concat(t," form__input_type_entity-id"),value:n||"",name:l,onChange:function(e){u(e)}})),r.a.createElement("div",{className:"form__select-container"},r.a.createElement("select",{value:a,name:o,onChange:function(e){s(e)},className:"form__select"},c?Object.keys(c).sort().map((function(e,t){return r.a.createElement("option",{className:"form__select-option",key:t,value:e},e)})):null)))};var g=function(){r.a.useEffect((function(){p.getCurrency().then((function(e){u(Object(f.a)(Object(f.a)({},e.rates),{},Object(m.a)({},e.base,1)))}))}),[]);var e=r.a.useState("EUR"),t=Object(i.a)(e,2),a=t[0],n=t[1],c=r.a.useState({}),l=Object(i.a)(c,2),o=l[0],u=l[1],s=r.a.useState("1"),h=Object(i.a)(s,2),_=h[0],g=h[1],E=r.a.useState(a),d=Object(i.a)(E,2),b=d[0],y=d[1],N=r.a.useState(o.RUB),j=Object(i.a)(N,2),C=j[0],O=j[1],w=r.a.useState("RUB"),S=Object(i.a)(w,2),k=S[0],V=S[1];function B(e){return Math.floor(100*e)/100}function R(e){"left"===e.target.name?function(e){g(e.target.value),O(B(e.target.value*o[k]))}(e):function(e){O(e.target.value),g(B(e.target.value/o[k]))}(e)}function I(e){n(e.target.value),"leftCurrency"===e.target.name?function(e){y(e.target.value),n(e.target.value),O(B(_*o[k]))}(e):function(e){V(e.target.value),n(b)}(e)}return r.a.useEffect((function(){O(B(_*o[k]))}),[o,k]),r.a.useEffect((function(){p.setNewBase(a).then((function(e){u(Object(f.a)(Object(f.a)({},e.rates),{},Object(m.a)({},e.base,1)))}))}),[a]),r.a.createElement("main",{className:"container"},r.a.createElement("form",{name:"search",className:"form form_type_search"},r.a.createElement("h1",{className:"form__title"},"\u041a\u0430\u043a\u0430\u044f \u043f\u0430\u0440\u0430 \u0432\u0430\u043b\u044e\u0442?"),r.a.createElement("div",{className:"form__section"},r.a.createElement("div",{className:"form__wrapper form__wrapper_type_left"},r.a.createElement(v,{className:"form__input_left",selectValue:b,inputValue:_,allCurrency:o,nameInput:"left",nameSelect:"leftCurrency",onValueChange:R,onSelectChange:I})),r.a.createElement("div",{className:"form__wrapper"},r.a.createElement(v,{className:"form__input_right",selectValue:k,inputValue:C,allCurrency:o,nameInput:"right",nameSelect:"rightCurrency",onValueChange:R,onSelectChange:I})))))};var E=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s,null),r.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,a){e.exports=a.p+"static/media/logo.8c065617.svg"},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.7222dbba.chunk.js.map